{"version":3,"sources":["src/timer.js","index.js"],"names":["timerVision","audio","document","getElementById","audioStart","audioHalfTime","audioFinish","timer","querySelector","timeInput","playBtn","pauseBtn","themeBtn","iterationsInput","iterations","textContent","value","paused","playAudioStart","play","currentTime","playAudioEnd","playAudioHalfTime","playAudioFinish","addEventListener","disabled","timerInterval","setInterval","Math","ceil","clearInterval","body","classList","toggle"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAAA,IAAMA,EAAc,WACnBC,IAAAA,EAAQC,SAASC,eAAe,SAChCC,EAAaF,SAASC,eAAe,eACrCE,EAAgBH,SAASC,eAAe,mBACxCG,EAAcJ,SAASC,eAAe,gBACtCI,EAAQL,SAASM,cAAc,UAC/BC,EAAYP,SAASM,cAAc,eACnCE,EAAUR,SAASC,eAAe,iBAClCQ,EAAWT,SAASC,eAAe,SACnCS,EAAWV,SAASC,eAAe,iBACnCU,EAAkBX,SAASC,eAAe,oBAC1CW,EAAaZ,SAASM,cAAc,yBAG1CM,EAAWC,YAAc,EACzBR,EAAMQ,YAAc,GACpBN,EAAUO,MAAQ,GACdC,IAAAA,GAAS,EAsDPC,EAAiB,WACrBd,EAAWe,OACXf,EAAWgB,YAAc,GAGrBC,EAAe,WACnBpB,EAAMkB,OACNlB,EAAMmB,YAAc,GAGhBE,EAAoB,WACxBjB,EAAcc,OACdd,EAAce,YAAc,GAGxBG,EAAkB,WACtBjB,EAAYa,OACZb,EAAYc,YAAc,GAO5BP,EAAgBW,iBAAiB,SAAU,WAAOV,EAAWC,YAAcF,EAAgBG,QAC3FN,EAAQc,iBAAiB,QA7EP,WAChBN,IACKD,IAAQV,EAAMQ,YAAcN,EAAUO,OAEvCC,IACFA,GAAS,EACTN,EAASc,UAAW,GAGtBhB,EAAUgB,UAAW,EACrBf,EAAQe,UAAW,EAEfC,IAAAA,EAAgBC,YAAY,WAC1BpB,EAAMQ,YAAc,GACtBR,EAAMQ,cAGJR,EAAMQ,aAAea,KAAKC,KAAKpB,EAAUO,MAAQ,IACnDK,IAGuB,GAArBd,EAAMQ,cACRe,cAAcJ,GACdjB,EAAUgB,UAAW,EACrBf,EAAQe,UAAW,EAEfX,EAAWC,YAAc,IAC3BD,EAAWC,cACXM,KAGEP,EAAWC,aAAea,KAAKC,KAAKpB,EAAUO,MAAQ,IACxDM,IAG4B,GAA1BR,EAAWC,cACbL,EAAQe,UAAW,EACnBd,EAASc,UAAW,EACpBX,EAAWC,YAAc,QACzBQ,MAIJZ,EAASa,iBAAiB,QAAS,WACjCM,cAAcJ,GACdT,GAAS,EACTP,EAAQe,UAAW,EACnBd,EAASc,UAAW,KAErB,OA6BLb,EAASY,iBAAiB,QANN,WAClBtB,SAAS6B,KAAKC,UAAUC,OAAO,YA5F5B,QAAA,YAAA;;ACEP,aAFA,IAAA,EAAA,QAAA,gBAEA,EAAA,EAAA","file":"timer.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export const timerVision = () => {\r\n  const audio = document.getElementById('audio');\r\n  const audioStart = document.getElementById('audio-start');\r\n  const audioHalfTime = document.getElementById('audio-half-time');\r\n  const audioFinish = document.getElementById('audio-finish');\r\n  const timer = document.querySelector('.timer');\r\n  const timeInput = document.querySelector('.time-input');\r\n  const playBtn = document.getElementById('button-addon2');\r\n  const pauseBtn = document.getElementById('pause');\r\n  const themeBtn = document.getElementById('customSwitch1');\r\n  const iterationsInput = document.getElementById('iterations-input');\r\n  const iterations = document.querySelector('.remaining-iterations');\r\n  \r\n  \r\n  iterations.textContent = 0;\r\n  timer.textContent = 60;\r\n  timeInput.value = 60;\r\n  let paused = false;\r\n\r\n  const playTimer = () => {\r\n    playAudioStart();\r\n    if (!paused) timer.textContent = timeInput.value;\r\n\r\n    if (paused) {\r\n      paused = false;\r\n      pauseBtn.disabled = false;\r\n    }\r\n    \r\n    timeInput.disabled = true;\r\n    playBtn.disabled = true;\r\n\r\n    let timerInterval = setInterval(() => {\r\n      if (timer.textContent > 0) {\r\n        timer.textContent--;\r\n      }\r\n\r\n      if (timer.textContent == Math.ceil(timeInput.value / 2)) {\r\n        playAudioEnd();\r\n      }\r\n\r\n      if (timer.textContent == 0) {\r\n        clearInterval(timerInterval);\r\n        timeInput.disabled = false;\r\n        playBtn.disabled = false;\r\n\r\n        if (iterations.textContent > 0) {\r\n          iterations.textContent--;\r\n          playAudioEnd();\r\n        }\r\n\r\n        if (iterations.textContent == Math.ceil(timeInput.value / 2)) {\r\n          playAudioHalfTime();\r\n        }\r\n        \r\n        if (iterations.textContent == 0) {\r\n          playBtn.disabled = true;\r\n          pauseBtn.disabled = true;\r\n          iterations.textContent = 'Конец';\r\n          playAudioFinish();\r\n        }\r\n      }\r\n      \r\n      pauseBtn.addEventListener('click', () => {\r\n        clearInterval(timerInterval);\r\n        paused = true;\r\n        playBtn.disabled = false;\r\n        pauseBtn.disabled = true;\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  const playAudioStart = () => {\r\n    audioStart.play();\r\n    audioStart.currentTime = 0.0;\r\n  };\r\n\r\n  const playAudioEnd = () => {\r\n    audio.play();\r\n    audio.currentTime = 0.0;\r\n  };\r\n\r\n  const playAudioHalfTime = () => {\r\n    audioHalfTime.play();\r\n    audioHalfTime.currentTime = 0.0;\r\n  }\r\n  \r\n  const playAudioFinish = () => {\r\n    audioFinish.play();\r\n    audioFinish.currentTime = 0.0;\r\n  };\r\n  \r\n  const changeTheme = () => {\r\n    document.body.classList.toggle('light');\r\n  }\r\n\r\n  iterationsInput.addEventListener('change', () => {iterations.textContent = iterationsInput.value});\r\n  playBtn.addEventListener('click', playTimer);\r\n  themeBtn.addEventListener('click', changeTheme);\r\n};\r\n","import { timerVision } from './src/timer';\n\ntimerVision();\n"]}