{"version":3,"sources":["src/timer.js","index.js"],"names":["timerVision","audio","document","getElementById","audioStart","audioFinish","timer","querySelector","timeInput","playBtn","pauseBtn","themeBtn","iterationsInput","iterations","textContent","value","paused","playAudioStart","play","currentTime","playAudioEnd","playAudioFinish","addEventListener","disabled","timerInterval","setInterval","Math","ceil","clearInterval","body","classList","toggle"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAAA,IAAMA,EAAc,WACnBC,IAAAA,EAAQC,SAASC,eAAe,SAChCC,EAAaF,SAASC,eAAe,eACrCE,EAAcH,SAASC,eAAe,gBACtCG,EAAQJ,SAASK,cAAc,UAC/BC,EAAYN,SAASK,cAAc,eACnCE,EAAUP,SAASC,eAAe,iBAClCO,EAAWR,SAASC,eAAe,SACnCQ,EAAWT,SAASC,eAAe,iBACnCS,EAAkBV,SAASC,eAAe,oBAC1CU,EAAaX,SAASK,cAAc,yBAG1CM,EAAWC,YAAc,EACzBR,EAAMQ,YAAc,GACpBN,EAAUO,MAAQ,GACdC,IAAAA,GAAS,EA0DPC,EAAiB,WACrBb,EAAWc,OACXd,EAAWe,YAAc,GAGrBC,EAAe,WACnBnB,EAAMiB,OACNjB,EAAMkB,YAAc,GAGhBE,EAAkB,WACtBhB,EAAYa,OACZb,EAAYc,YAAc,GAO5BP,EAAgBU,iBAAiB,SAAU,WAAOT,EAAWC,YAAcF,EAAgBG,QAC3FN,EAAQa,iBAAiB,QA5EP,WAChBL,IACKD,IAAQV,EAAMQ,YAAcN,EAAUO,OAEvCC,IACFA,GAAS,EACTN,EAASa,UAAW,GAGtBf,EAAUe,UAAW,EACrBd,EAAQc,UAAW,EAUfC,IAAAA,EAAgBC,YAAY,WAC1BnB,EAAMQ,YAAc,GACtBR,EAAMQ,cAGJR,EAAMQ,aAAeY,KAAKC,KAAKnB,EAAUO,MAAQ,IACnDK,IAGuB,GAArBd,EAAMQ,cACRc,cAAcJ,GACdhB,EAAUe,UAAW,EACrBd,EAAQc,UAAW,EAEfV,EAAWC,YAAc,IAC3BD,EAAWC,cACXM,KAG4B,GAA1BP,EAAWC,cACbL,EAAQc,UAAW,EACnBb,EAASa,UAAW,EACpBV,EAAWC,YAAc,QACzBO,MAIJX,EAASY,iBAAiB,QAAS,WACjCM,cAAcJ,GACdR,GAAS,EACTP,EAAQc,UAAW,EACnBb,EAASa,UAAW,KAErB,OAwBLZ,EAASW,iBAAiB,QANN,WAClBpB,SAAS2B,KAAKC,UAAUC,OAAO,YA1F5B,QAAA,YAAA;;ACEP,aAFA,IAAA,EAAA,QAAA,gBAEA,EAAA,EAAA","file":"timer.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export const timerVision = () => {\r\n  const audio = document.getElementById('audio');\r\n  const audioStart = document.getElementById('audio-start');\r\n  const audioFinish = document.getElementById('audio-finish');\r\n  const timer = document.querySelector('.timer');\r\n  const timeInput = document.querySelector('.time-input');\r\n  const playBtn = document.getElementById('button-addon2');\r\n  const pauseBtn = document.getElementById('pause');\r\n  const themeBtn = document.getElementById('customSwitch1');\r\n  const iterationsInput = document.getElementById('iterations-input');\r\n  const iterations = document.querySelector('.remaining-iterations');\r\n  \r\n  \r\n  iterations.textContent = 0;\r\n  timer.textContent = 60;\r\n  timeInput.value = 60;\r\n  let paused = false;\r\n\r\n  const playTimer = () => {\r\n    playAudioStart();\r\n    if (!paused) timer.textContent = timeInput.value;\r\n\r\n    if (paused) {\r\n      paused = false;\r\n      pauseBtn.disabled = false;\r\n    }\r\n    \r\n    timeInput.disabled = true;\r\n    playBtn.disabled = true;\r\n    \r\n    // if (iterations.textContent > 0) {\r\n    //   iterations.textContent--;\r\n    // }\r\n    // if (iterations.textContent == 0) {\r\n    //   iterations.textContent = 'Это финиш';\r\n    //   playAudioFinish();\r\n    // }\r\n\r\n    let timerInterval = setInterval(() => {\r\n      if (timer.textContent > 0) {\r\n        timer.textContent--;\r\n      }\r\n\r\n      if (timer.textContent == Math.ceil(timeInput.value / 2)) {\r\n        playAudioEnd();\r\n      }\r\n\r\n      if (timer.textContent == 0) {\r\n        clearInterval(timerInterval);\r\n        timeInput.disabled = false;\r\n        playBtn.disabled = false;\r\n\r\n        if (iterations.textContent > 0) {\r\n          iterations.textContent--;\r\n          playAudioEnd();\r\n        }\r\n        \r\n        if (iterations.textContent == 0) {\r\n          playBtn.disabled = true;\r\n          pauseBtn.disabled = true;\r\n          iterations.textContent = 'Конец';\r\n          playAudioFinish();\r\n        }\r\n      }\r\n      \r\n      pauseBtn.addEventListener('click', () => {\r\n        clearInterval(timerInterval);\r\n        paused = true;\r\n        playBtn.disabled = false;\r\n        pauseBtn.disabled = true;\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  const playAudioStart = () => {\r\n    audioStart.play();\r\n    audioStart.currentTime = 0.0;\r\n  };\r\n\r\n  const playAudioEnd = () => {\r\n    audio.play();\r\n    audio.currentTime = 0.0;\r\n  };\r\n  \r\n  const playAudioFinish = () => {\r\n    audioFinish.play();\r\n    audioFinish.currentTime = 0.0;\r\n  };\r\n  \r\n  const changeTheme = () => {\r\n    document.body.classList.toggle('light');\r\n  }\r\n\r\n  iterationsInput.addEventListener('change', () => {iterations.textContent = iterationsInput.value});\r\n  playBtn.addEventListener('click', playTimer);\r\n  themeBtn.addEventListener('click', changeTheme);\r\n};\r\n","import { timerVision } from './src/timer';\n\ntimerVision();\n"]}