{"version":3,"sources":["src/timer.js","index.js"],"names":["timerVision","audioEnd","document","getElementById","audioStart","audioHalfTime","audioFinish","timer","querySelector","timeInput","playBtn","pauseBtn","themeBtn","iterationsInput","iterations","textContent","value","paused","play","sound","currentTime","addEventListener","disabled","timerInterval","setInterval","Math","ceil","clearInterval","body","classList","toggle"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAAA,IAAMA,EAAc,WACnBC,IAAAA,EAAWC,SAASC,eAAe,SACnCC,EAAaF,SAASC,eAAe,eACrCE,EAAgBH,SAASC,eAAe,mBACxCG,EAAcJ,SAASC,eAAe,gBACtCI,EAAQL,SAASM,cAAc,UAC/BC,EAAYP,SAASM,cAAc,eACnCE,EAAUR,SAASC,eAAe,iBAClCQ,EAAWT,SAASC,eAAe,SACnCS,EAAWV,SAASC,eAAe,iBACnCU,EAAkBX,SAASC,eAAe,oBAC1CW,EAAaZ,SAASM,cAAc,yBAE1CM,EAAWC,YAAc,EACzBR,EAAMQ,YAAc,GACpBN,EAAUO,MAAQ,GACdC,IAAAA,GAAS,EAEPC,EAAO,SAACC,GACZA,EAAMD,OACNC,EAAMC,YAAc,GA2DtBP,EAAgBQ,iBAAiB,SAAU,WAAOP,EAAWC,YAAcF,EAAgBG,QAC3FN,EAAQW,iBAAiB,QArDP,WAChBH,EAAKd,GACAa,IAAQV,EAAMQ,YAAcN,EAAUO,OAEvCC,IACFA,GAAS,EACTN,EAASW,UAAW,GAGtBb,EAAUa,UAAW,EACrBZ,EAAQY,UAAW,EAEfC,IAAAA,EAAgBC,YAAY,WAC1BjB,EAAMQ,YAAc,GACtBR,EAAMQ,cAGJR,EAAMQ,aAAeU,KAAKC,KAAKjB,EAAUO,MAAQ,IACnDE,EAAKjB,GAGkB,GAArBM,EAAMQ,cACRY,cAAcJ,GACdd,EAAUa,UAAW,EACrBZ,EAAQY,UAAW,EAEfR,EAAWC,YAAc,IAC3BD,EAAWC,cACXG,EAAKjB,IAGHa,EAAWC,aAAeU,KAAKC,KAAKb,EAAgBG,MAAQ,IAC9DE,EAAKb,GAGuB,GAA1BS,EAAWC,cACbL,EAAQY,UAAW,EACnBX,EAASW,UAAW,EACpBR,EAAWC,YAAc,QACzBG,EAAKZ,KAITK,EAASU,iBAAiB,QAAS,WACjCM,cAAcJ,GACdN,GAAS,EACTP,EAAQY,UAAW,EACnBX,EAASW,UAAW,KAErB,OAKLV,EAASS,iBAAiB,QA1DN,WAClBnB,SAAS0B,KAAKC,UAAUC,OAAO,YAxB5B,QAAA,YAAA;;ACEP,aAFA,IAAA,EAAA,QAAA,gBAEA,EAAA,EAAA","file":"timer.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export const timerVision = () => {\r\n  const audioEnd = document.getElementById('audio');\r\n  const audioStart = document.getElementById('audio-start');\r\n  const audioHalfTime = document.getElementById('audio-half-time');\r\n  const audioFinish = document.getElementById('audio-finish');\r\n  const timer = document.querySelector('.timer');\r\n  const timeInput = document.querySelector('.time-input');\r\n  const playBtn = document.getElementById('button-addon2');\r\n  const pauseBtn = document.getElementById('pause');\r\n  const themeBtn = document.getElementById('customSwitch1');\r\n  const iterationsInput = document.getElementById('iterations-input');\r\n  const iterations = document.querySelector('.remaining-iterations');\r\n  \r\n  iterations.textContent = 0;\r\n  timer.textContent = 60;\r\n  timeInput.value = 60;\r\n  let paused = false;\r\n\r\n  const play = (sound) => {\r\n    sound.play();\r\n    sound.currentTime = 0.0;\r\n  }\r\n\r\n  const changeTheme = () => {\r\n    document.body.classList.toggle('light');\r\n  }\r\n\r\n  const playTimer = () => {\r\n    play(audioStart);\r\n    if (!paused) timer.textContent = timeInput.value;\r\n\r\n    if (paused) {\r\n      paused = false;\r\n      pauseBtn.disabled = false;\r\n    }\r\n    \r\n    timeInput.disabled = true;\r\n    playBtn.disabled = true;\r\n\r\n    let timerInterval = setInterval(() => {\r\n      if (timer.textContent > 0) {\r\n        timer.textContent--;\r\n      }\r\n\r\n      if (timer.textContent == Math.ceil(timeInput.value / 2)) {\r\n        play(audioEnd);\r\n      }\r\n\r\n      if (timer.textContent == 0) {\r\n        clearInterval(timerInterval);\r\n        timeInput.disabled = false;\r\n        playBtn.disabled = false;\r\n\r\n        if (iterations.textContent > 0) {\r\n          iterations.textContent--;\r\n          play(audioEnd);\r\n        }\r\n\r\n        if (iterations.textContent == Math.ceil(iterationsInput.value / 2)) {\r\n          play(audioHalfTime);\r\n        }\r\n        \r\n        if (iterations.textContent == 0) {\r\n          playBtn.disabled = true;\r\n          pauseBtn.disabled = true;\r\n          iterations.textContent = 'Конец';\r\n          play(audioFinish);\r\n        }\r\n      }\r\n      \r\n      pauseBtn.addEventListener('click', () => {\r\n        clearInterval(timerInterval);\r\n        paused = true;\r\n        playBtn.disabled = false;\r\n        pauseBtn.disabled = true;\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  iterationsInput.addEventListener('change', () => {iterations.textContent = iterationsInput.value});\r\n  playBtn.addEventListener('click', playTimer);\r\n  themeBtn.addEventListener('click', changeTheme);\r\n};\r\n","import { timerVision } from './src/timer';\n\ntimerVision();\n"]}